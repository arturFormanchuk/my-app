(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,t,a){e.exports=a(47)},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(21),r=a.n(o),i=(a(31),a(32),a(2)),s=a(13),l=a(25),m=a(3),d=a.n(m),u=a(14),p=a(5),v=a(6),h=a(8),b=a(7),f=a(9),g=(a(34),a(35),a(24)),E=Object(n.createContext)(),y=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),o=a[0],r=a[1];return c.a.createElement(E.Provider,{value:{darkMode:o,changeTheme:function(){r(!o)}}},e.children)},N=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={willWatch:!1},a}return Object(f.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.context.darkMode,a=this.props,n=a.results,o=a.key,r=a.addMovieToWillWatch,s=a.addMovieToHistory,l=a.removeMovieFromWillWatch;return c.a.createElement("div",{key:o,className:"movieTable marginAuto movieTableSmall width100Small ".concat(t?"darkTableMovie":"")},c.a.createElement("div",{className:"wrapper wrapperHeightSmall wrapperHeightMedium"},c.a.createElement("img",{className:"width100Small",src:"https://image.tmdb.org/t/p/w500".concat(n.backdrop_path||n.poster_path),alt:n.title})),c.a.createElement("h2",null,n.title),c.a.createElement("div",{className:"textOverview textOverviewSmall"},n.overview),c.a.createElement(i.b,{to:{pathname:"/MoviePage/".concat(n.id),state:{movie_id:n.id}}},c.a.createElement("button",{onClick:function(){return s(n)},className:"btn btn-danger buttonMorePositionSmall  buttonMorePosition float"},"More")),this.state.willWatch?c.a.createElement("button",{type:"button",className:"btn btn-danger buttonAddPositionSmall buttonAddPosition",onClick:function(){e.setState({willWatch:!1}),l(n)}},c.a.createElement("i",{className:"fas fa-heart"})):c.a.createElement("button",{type:"button",className:"btn btn-secondary buttonAddPositionSmall buttonAddPosition",onClick:function(){e.setState({willWatch:!0}),r(n)}},c.a.createElement("i",{className:"far fa-heart"})))}}]),t}(n.Component);N.contextType=E;var S=N,w=function(e){var t=Object(n.useContext)(E);return c.a.createElement("div",{className:"navPos pagination marginAuto"},c.a.createElement("button",{onClick:e.previousPage,className:" paginationButton ".concat(t.darkMode?"btn btn-secondary":"btn btn-warning")},c.a.createElement("i",{className:"fas fa-angle-double-left"})),c.a.createElement("button",{onClick:e.nextPage,className:" paginationButton ".concat(t.darkMode?"btn btn-secondary":"btn btn-warning")},c.a.createElement("i",{className:"fas fa-angle-double-right"})))},k=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.context.darkMode,t=this.props,a=t.moviesWillWatch,n=t.togglePopup;return c.a.createElement("div",{className:"width-15"},c.a.createElement("button",{onClick:n,className:"cartWidth ".concat(e?"btn btn-secondary":"btn btn-warning")},c.a.createElement("i",{className:"fas fa-heart"}),a.length))}}]),t}(n.Component);k.contextType=E;var x=k,M=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.context.darkMode,t=this.props,a=t.closePopup,n=t.moviesWillWatch;return console.log("fff",n),c.a.createElement("div",{className:"popup"},c.a.createElement("div",{className:"popup_inner  width-80 popSmall d-flex f-wrap ".concat(e?"darkPopUp":"")},c.a.createElement("button",{onClick:a,className:" buttonPop ".concat(e?"btn btn-secondary popButton":"popButton btn btn-warning ")},c.a.createElement("i",{className:"fas fa-times"})),n.map((function(t){return c.a.createElement("div",{key:t.id,className:"movieTablePop movieTablePopSmall ".concat(e?"darkTableMovie":"")},c.a.createElement(i.b,{to:{pathname:"/MoviePage/".concat(t.id),state:{movie_id:t.id}}},c.a.createElement("img",{className:"recommendImg posterSmall",src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title})),c.a.createElement("h6",null,t.title))}))))}}]),t}(c.a.Component);M.contextType=E;var O=M,j=(a(41),function(){var e=Object(n.useContext)(E);return c.a.createElement("div",null,c.a.createElement("div",{className:"cssload-container "},c.a.createElement("div",{className:e.darkMode?"dark":"cssload-speeding-wheel"})))}),W=function(e){return c.a.createElement("div",{className:"search  marginAuto"},c.a.createElement("form",{onSubmit:e.fetchSearchData,className:"form-inline searchSmall   marginAuto"},c.a.createElement("input",{className:"form-control mr-sm-2",name:"input",type:"search",placeholder:"Search","aria-label":"Search"}),c.a.createElement("button",{className:"btn btn-outline-danger my-2 my-sm-0 searchButton",type:"submit"},c.a.createElement("i",{className:"fas fa-search"})),e.isLoadedSearch?c.a.createElement(j,null):""))},P=(a(42),function(){return c.a.createElement("div",{className:"z-index"},c.a.createElement("div",{className:"cssload-dots"},c.a.createElement("div",{className:"cssload-dot"}),c.a.createElement("div",{className:"cssload-dot"}),c.a.createElement("div",{className:"cssload-dot"}),c.a.createElement("div",{className:"cssload-dot"}),c.a.createElement("div",{className:"cssload-dot"})),c.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("filter",{id:"goo"},c.a.createElement("feGaussianBlur",{in:"SourceGraphic",result:"blur",stdDeviation:"12"}),c.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0\t0 1 0 0 0\t0 0 1 0 0\t0 0 0 18 -7",result:"goo"})))))}),T=(a(43),"34c6dd52b40998a7fba114d180097301"),_=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={results:[],page:1,totalPages:null,moviesWillWatch:[],showPopup:!1,isLoaded:!1,isLoadedSearch:!1,search:!1,input:null},a.nextPage=function(){500!==a.state.page&&a.setState({page:a.state.page+1}),console.log(a.state.page)},a.previousPage=function(){1!==a.state.page&&a.setState({page:a.state.page-1})},a.fetchSearch=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.input){e.next=9;break}return e.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(T,"&language=en-US&query=").concat(a.state.input,"&page=").concat(a.state.page,"&include_adult=false"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a.setState({results:n.results,totalPages:n.total_pages,isLoadedSearch:!1}),console.log(n);case 9:case"end":return e.stop()}}),e)}))),a.fetchSearchData=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoadedSearch:!0,search:!0,page:1}),n=t.target.elements.input.value,t.preventDefault(),e.next=5,a.setState({input:n});case 5:return console.log(a.state.input),e.next=8,a.fetchSearch();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchData=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat(T,"&language=en-US&page=").concat(a.state.page));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({results:n.results,totalPages:n.total_pages,isLoaded:!0}),console.log(n);case 8:case"end":return e.stop()}}),e)}))),a.componentDidMount=function(){a.fetchData()},a.addMovieToHistory=function(e){var t=[JSON.parse(localStorage.getItem("history"))].flat(10);console.log(t),null===t[0]&&t.splice(0,1),t.push(e),localStorage.setItem("history",JSON.stringify(t))},a.addMovieToWillWatch=function(e){var t=Object(l.a)(a.state.moviesWillWatch);t.push(e),a.setState({moviesWillWatch:t})},a.removeMovieFromWillWatch=function(e){var t=a.state.moviesWillWatch.filter((function(t){return t.id!==e.id}));a.setState({moviesWillWatch:t})},a.togglePopup=function(){a.setState({showPopup:!a.state.showPopup})},a}return Object(f.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){t.page!==this.state.page&&(this.state.search?this.fetchSearch():this.fetchData())}},{key:"render",value:function(){var e=this,t=this.context,a=t.darkMode,n=t.changeTheme;return c.a.createElement("div",{className:"".concat(a?"darkBody":""," ")},c.a.createElement("div",{className:"App container marginAuto position-relative ".concat(a?"darkBodySite":"")},c.a.createElement("nav",{className:"navbar sticky-top navbar-light bg-light marginAuto header red d-flex justify-content-around ".concat(a?"darkHeader":"")},c.a.createElement("h2",{className:"HeaderText"},"MovieApp"),c.a.createElement("div",{className:"navPosButtons"},c.a.createElement("button",{className:a?"btn btn-secondary":"btn btn-warning",onClick:function(){n()}},a?c.a.createElement("i",{className:"fas fa-sun"}):c.a.createElement("i",{className:"fas fa-moon"})),c.a.createElement(i.b,{to:"/user"},c.a.createElement("button",{className:a?"btn btn-secondary":"btn btn-warning"},c.a.createElement("i",{className:"fas fa-user"}))),c.a.createElement(x,{moviesWillWatch:this.state.moviesWillWatch,togglePopup:this.togglePopup}),this.state.showPopup?c.a.createElement(O,{closePopup:this.togglePopup,moviesWillWatch:this.state.moviesWillWatch}):null)),c.a.createElement(W,{fetchSearchData:this.fetchSearchData,isLoadedSearch:this.state.isLoadedSearch}),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"movies width-90 marginAuto"},this.state.isLoaded?"":c.a.createElement(P,null),this.state.results.map((function(t){return c.a.createElement(S,{results:t,key:t.id,addMovieToWillWatch:e.addMovieToWillWatch,addMovieToHistory:e.addMovieToHistory,removeMovieFromWillWatch:e.removeMovieFromWillWatch})})))),this.state.isLoaded?c.a.createElement(w,{nextPage:this.nextPage,previousPage:this.previousPage}):""))}}]),t}(n.Component);_.contextType=E;var A=_,C=function(e){var t=Object(n.useContext)(E);return c.a.createElement("div",{className:"movies width-80 marginAuto"},e.recommend.map((function(a){return c.a.createElement("div",{className:"marginAuto",key:a.id},c.a.createElement("div",{className:"movieTableRecommends marginAuto movieTablePopSmall ".concat(t.darkMode?"darkTableMovie colorText":""),onClick:e.movieId},c.a.createElement(i.b,{className:"colorText",to:{pathname:"/MoviePage/".concat(a.id),state:{movie_id:a.id}}},c.a.createElement("img",{onClick:function(){return e.addHistory(a)},className:"recommendImg posterSmall",src:"https://image.tmdb.org/t/p/w500".concat(a.poster_path),alt:a.title})),c.a.createElement("h6",null,a.title)))})))},B=function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"d-flex secondPage margin"},c.a.createElement("div",{className:"imgDiv"},c.a.createElement("img",{className:"poster secondPoster",src:"https://image.tmdb.org/t/p/w500".concat(e.activeMovie.poster_path),alt:e.activeMovie.title})),c.a.createElement("div",null,c.a.createElement("h2",null,e.activeMovie.title),c.a.createElement("h4",null,e.activeMovie.tagline),c.a.createElement("div",null,e.activeMovie.overview),c.a.createElement("h6",null,"Rating: ",e.activeMovie.vote_average),c.a.createElement("h6",null,"Budget: ",e.activeMovie.budget,"$"),c.a.createElement("h6",null,"Status: ",e.activeMovie.status),c.a.createElement("h6",null,"Release Date: ",e.activeMovie.release_date))))},D=function(e){return c.a.createElement("div",{className:"video"},c.a.createElement("iframe",{className:"videoSize videoSizeMed",src:"https://www.youtube.com/embed/".concat(e.videos),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))},H="34c6dd52b40998a7fba114d180097301",I=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).state={activeMovie:[],recommend:[],videos:[],movie_id:null},a.fetchOneMovie=Object(u.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.location.state.movie_id,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(H,"&language=en-US"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,a.setState({activeMovie:c});case 8:case"end":return e.stop()}}),e)}))),a.fetchSimiliar=Object(u.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.location.state.movie_id,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/similar?api_key=").concat(H,"&language=en-US&page=1"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,a.setState({recommend:c.results,movie_id:c.results.id});case 8:case"end":return e.stop()}}),e)}))),a.fetchVideos=Object(u.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.location.state.movie_id,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat(H,"&language=en-US"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,a.setState({videos:c.results[0].key});case 8:case"end":return e.stop()}}),e)}))),a.componentDidMount=function(){a.fetchOneMovie(),a.fetchSimiliar(),a.fetchVideos()},a.addHistory=function(e){var t=[JSON.parse(localStorage.getItem("history"))].flat(10);console.log(t),null===t[0]&&t.splice(0,1),t.push(e),localStorage.setItem("history",JSON.stringify(t))},a.componentDidUpdate=function(e){a.state.movie_id!==e.movie_id&&a.componentDidMount()},a.movieId=function(){a.setState({movie_id:a.props.location.state.movie_id})},a}return Object(f.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.context,t=e.darkMode,a=e.changeTheme;return c.a.createElement("div",{className:"body width100Small  ".concat(t?"darkBody":""," ")},c.a.createElement("div",{className:"container width100Small marginAuto ".concat(t?"darkBodySite":"")},c.a.createElement("nav",{className:"navbar sticky-top navbar-light bg-light header red margin ".concat(t?"darkHeader":"")},c.a.createElement(i.b,{to:"/"},c.a.createElement("button",{className:t?"btn btn-secondary":"btn btn-warning"},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement("button",{className:t?"btn btn-secondary":"btn btn-warning",onClick:function(){a()}},t?c.a.createElement("i",{className:"fas fa-sun"}):c.a.createElement("i",{className:"fas fa-moon"}))),c.a.createElement(B,{activeMovie:this.state.activeMovie}),c.a.createElement(D,{videos:this.state.videos}),c.a.createElement("div",{className:"marginAuto"},c.a.createElement("h2",null,"Recommendations:"),c.a.createElement(C,{movieId:this.movieId,addHistory:this.addHistory,recommend:this.state.recommend}))))}}]),t}(c.a.Component);I.contextType=E;var L=I,J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(c)))).deleteHistory=function(){localStorage.clear()},a}return Object(f.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.context,t=e.darkMode,a=e.changeTheme;return c.a.createElement("div",{className:t?"darkBody":""},c.a.createElement("div",{className:"App container ".concat(t?"darkBodySite":"")},c.a.createElement("nav",{className:"navbar sticky-top navbar-light bg-light header red margin ".concat(t?"darkHeader":"")},c.a.createElement(i.b,{to:"/"},c.a.createElement("button",{className:t?"btn btn-secondary":"btn btn-warning"},c.a.createElement("i",{className:"fas fa-arrow-left"}))),c.a.createElement("button",{className:t?"btn btn-secondary":"btn btn-warning",onClick:this.deleteHistory},c.a.createElement("i",{className:"fas fa-trash"})),c.a.createElement("button",{className:t?"btn btn-secondary":"btn btn-warning",onClick:function(){a()}},t?c.a.createElement("i",{className:"fas fa-sun"}):c.a.createElement("i",{className:"fas fa-moon"}))),c.a.createElement("div",{className:"d-flex flex-wrap justify-content-start"},JSON.parse(localStorage.getItem("history"))?JSON.parse(localStorage.getItem("history")).map((function(e){return c.a.createElement("div",{className:"marginAuto",key:e.id},c.a.createElement("div",{className:"movieTableRecommends movieTablePopSmall marginAuto ".concat(t?"darkTableMovie colorText":"")},c.a.createElement(i.b,{className:"colorText",to:{pathname:"/MoviePage/".concat(e.id),state:{movie_id:e.id}}},c.a.createElement("img",{className:"recommendImg posterSmall",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title})),c.a.createElement("h6",null,e.title)))})):c.a.createElement("div",null,c.a.createElement("h2",null,"Your story is empty")))))}}]),t}(n.Component);J.contextType=E;var U=J,F=function(){return c.a.createElement(i.a,{basename:"/"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",component:A,exact:!0}),c.a.createElement(s.a,{path:"/moviePage/:id",component:L}),c.a.createElement(s.a,{path:"/user",component:U}),c.a.createElement(s.a,{component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(y,null,c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.d54d5ee4.chunk.js.map